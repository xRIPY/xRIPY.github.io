<!DOCTYPE html>
<html>
<head>
<!---------------------------------------------HEAD------------------------------------------------>
<meta charset="UTF-8">
<link rel="stylesheet" href="style.css">
<title> OekakiWidgetJS.js </title>
<!------------------------------------------------------------------------------------------------->
</head>
<body>
<!---------------------------------------------BODY------------------------------------------------>

1397 lines, abandoned. <br>
I tought of a better system for it; too sad about it to redo it now <br>
So, until I decide to remake it, have this version. <br>
It works for what it is, just dont undo and redo too much if you are using the layers. <br>
--- <br>
Made this to learn the justs of how drawing program works.
<!-- just pass the script under https://meyerweb.com/eric/tools/dencoder/ -->
<div id="ClickMeBox"><div id="ClickMeInside">
<a href="javascript:(function(){
	function%20OekakiWidget()%7Blet%20e%3Dthis%3Bthis.style%3D%27%5Cn%5Ct%5Cn%5Ct%5Ct%5Cn.OekakiWidgetCapsula%20html%2C%20.OekakiWidgetCapsula%20body%2C%20.OekakiWidgetCapsula%20div%2C%20.OekakiWidgetCapsula%20span%2C%20.OekakiWidgetCapsula%20applet%2C%20.OekakiWidgetCapsula%20object%2C%20.OekakiWidgetCapsula%20iframe%2C%5Cn.OekakiWidgetCapsula%20h1%2C%20.OekakiWidgetCapsula%20.OekakiWidgetCapsula%20h2%2C%20.OekakiWidgetCapsula%20h3%2C%20.OekakiWidgetCapsula%20h4%2C%20.OekakiWidgetCapsula%20h5%2C%20.OekakiWidgetCapsula%20h6%2C%20.OekakiWidgetCapsula%20p%2C%20.OekakiWidgetCapsula%20blockquote%2C%20.OekakiWidgetCapsula%20pre%2C%5Cn.OekakiWidgetCapsula%20a%2C%20.OekakiWidgetCapsula%20abbr%2C%20.OekakiWidgetCapsula%20acronym%2C%20.OekakiWidgetCapsula%20address%2C%20.OekakiWidgetCapsula%20big%2C%20.OekakiWidgetCapsula%20cite%2C%20.OekakiWidgetCapsula%20code%2C%5Cn.OekakiWidgetCapsula%20del%2C%20.OekakiWidgetCapsula%20dfn%2C%20.OekakiWidgetCapsula%20em%2C%20.OekakiWidgetCapsula%20img%2C%20.OekakiWidgetCapsula%20ins%2C%20.OekakiWidgetCapsula%20kbd%2C%20.OekakiWidgetCapsula%20q%2C%20.OekakiWidgetCapsula%20s%2C%20.OekakiWidgetCapsula%20samp%2C%5Cn.OekakiWidgetCapsula%20small%2C%20.OekakiWidgetCapsula%20strike%2C%20.OekakiWidgetCapsula%20strong%2C%20.OekakiWidgetCapsula%20sub%2C%20.OekakiWidgetCapsula%20sup%2C%20.OekakiWidgetCapsula%20tt%2C%20.OekakiWidgetCapsula%20var%2C%5Cn.OekakiWidgetCapsula%20b%2C%20.OekakiWidgetCapsula%20u%2C%20.OekakiWidgetCapsula%20i%2C%20.OekakiWidgetCapsula%20center%2C%5Cn.OekakiWidgetCapsula%20dl%2C%20.OekakiWidgetCapsula%20dt%2C%20.OekakiWidgetCapsula%20dd%2C%20.OekakiWidgetCapsula%20ol%2C%20.OekakiWidgetCapsula%20ul%2C%20.OekakiWidgetCapsula%20li%2C%5Cn.OekakiWidgetCapsula%20fieldset%2C%20.OekakiWidgetCapsula%20form%2C%20.OekakiWidgetCapsula%20label%2C%20.OekakiWidgetCapsula%20legend%2C%5Cn.OekakiWidgetCapsula%20table%2C%20.OekakiWidgetCapsula%20caption%2C%20.OekakiWidgetCapsula%20tbody%2C%20.OekakiWidgetCapsula%20tfoot%2C%20.OekakiWidgetCapsula%20thead%2C%20.OekakiWidgetCapsula%20tr%2C%20.OekakiWidgetCapsula%20th%2C%20.OekakiWidgetCapsula%20td%2C%5Cn.OekakiWidgetCapsula%20article%2C%20.OekakiWidgetCapsula%20aside%2C%20.OekakiWidgetCapsula%20canvas%2C%20.OekakiWidgetCapsula%20details%2C%20.OekakiWidgetCapsula%20embed%2C%20%5Cn.OekakiWidgetCapsula%20figure%2C%20.OekakiWidgetCapsula%20figcaption%2C%20.OekakiWidgetCapsula%20footer%2C%20.OekakiWidgetCapsula%20header%2C%20.OekakiWidgetCapsula%20hgroup%2C%20%5Cn.OekakiWidgetCapsula%20menu%2C%20.OekakiWidgetCapsula%20nav%2C%20.OekakiWidgetCapsula%20output%2C%20.OekakiWidgetCapsula%20ruby%2C%20.OekakiWidgetCapsula%20section%2C%20.OekakiWidgetCapsula%20summary%2C%5Cn.OekakiWidgetCapsula%20time%2C%20.OekakiWidgetCapsula%20mark%2C%20.OekakiWidgetCapsula%20audio%2C%20.OekakiWidgetCapsula%20video%20%7B%5Cn%5Ctmargin%3A%200%3B%5Cn%5Ctpadding%3A%200%3B%5Cn%5Ctborder%3A%200%3B%5Cn%5Ctfont-size%3A%20100%25%3B%5Cn%5Ctfont%3A%20inherit%3B%5Cn%5Ctvertical-align%3A%20baseline%3B%5Cn%7D%5Cn%5Ct.OekakiWidgetCapsula%3Anot(input)%20%7B%20user-select%3A%20none%3B%20%7D%5Cn%5Ct.OekakiWidgetCapsula%20%23EasterEgg%20%7B%20user-select%3A%20text%3B%20%7D%5Cn%5Ct.OekakiWidgetCapsula%20%7B%20display%3A%20block%3B%20font-family%3AMS%20PGothic%3B%20%7D%5Cn%5Ct.OekakiWidgetCapsula%20canvas%3Anot(%23OekakiDraft)%7B%20border%3A1px%20solid%20rgba(0%2C0%2C0%2C0)%3B%20%7D%5Cn%5Ct.OekakiWidgetCapsula%3Ahover%20canvas%3Anot(%23OekakiDraft)%7B%20border%3A1px%20solid%20rgba(0%2C0%2C0%2C0.1)%3B%20%7D%5Cn%5Ct.OekakiWidgetCapsula%20%23OekakiDraft%7B%20display%3A%20block%3B%20border%3A1px%20solid%20rgba(0%2C0%2C0%2C0)%3B%20%7D%5Cn%5Ct.OekakiWidgetCapsula%20%23ToolBox%7B%20padding%3A%200%205px%3B%20overflow-y%3Ascroll%3B%20overflow-x%3Ahidden%20%7D%5Cn%5Ct.OekakiWidgetCapsula%20%23Handle%7B%20padding%3A%20%205px%205px%3B%20text-align%3Acenter%3B%20%20%7D%5Cn%5Ct.OekakiWidgetCapsula%20%23ToolBox%2C%20.OekakiWidgetCapsula%20%23EasterEgg%2C%20.OekakiWidgetCapsula%20%23Handle%7B%20background-color%3A%20rgba(0%2C0%2C0%2C0.75)%3B%20color%3Awhite%3B%20%20transition%3A0.2s%3B%20opacity%3A%201%20%20%7D%5Cn%5Ct.OekakiWidgetCapsula%3Ahover%20%23ToolBox%2C%20.OekakiWidgetCapsula%3Ahover%20%23EasterEgg%2C%20.OekakiWidgetCapsula%3Ahover%20%23Handle%7Btransition%3A0.2s%3B%20opacity%3A%201%3B%20%7D%5Cn%5Ct.OekakiWidgetCapsula%20%23Handle%20.left%7B%20text-align%3Aleft%3B%20%7D%5Cn%5Ct.OekakiWidgetCapsula%20%23Handle%20.right%7B%20text-align%3Aright%20%7D%5Cn%5Ct.OekakiWidgetCapsula%20%23Handle%20span%7B%20margin%3A%200px%201ex%3B%20%7D%5Cn%5Ct.OekakiWidgetCapsula%20%23Handle%20input%7B%20width%3A%205ex%3B%20%7D%5Cn%5Ct.OekakiWidgetCapsula%20td%7B%20vertical-align%3A%20middle%3B%20%7D%5Cn%5Ct.OekakiWidgetCapsula%20%23layersDisplay%20%7B%20resize%3A%20vertical%3B%20height%3A%2040ex%3B%20overflow-y%3Ascroll%3B%20overflow-x%3Ahidden%3B%20border%3A%201px%20solid%20black%3B%20%7D%5Cn%5Ct.OekakiWidgetCapsula%20table%20%7B%20width%3A100%25%3B%20border-collapse%3A%20collapse%3B%20%7D%5Cn%5Ct.OekakiWidgetCapsula%20%23layerCommands%20%7B%20text-align%3A%20center%3B%20%7D%5Cn%5Ct.OekakiWidgetCapsula%20%23layersDisplay%20td%20%7B%20padding%3A%200.5ex%3B%20width%3A50%25%7D%5Cn%5Ct.OekakiWidgetCapsula%20%23layersDisplay%20canvas%20%7B%20max-height%3A7ex%3B%20max-width%3A7ex%3B%20display%3A%20block%3B%20float%3A%20right%20%7D%5Cn%5Ct.OekakiWidgetCapsula%20.layersTable%20input%20%7B%20width%3A%2010ex%3B%20%20%7D%5Cn%5Ct.OekakiWidgetCapsula%20%23layersDisplay%20%20.SelectedLayer%20%7B%20background-color%3A%20rgba(0%2C0%2C0%2C0.5)%20%20%7D%5Cn%5Ct.OekakiWidgetCapsula%20input%7B%20width%3A%2020ex%3B%20%7D%5Cn%5Ct.OekakiWidgetCapsula%20input%5Btype%3Dcheckbox%5D%7B%20width%3Aauto%3B%20%7D%5Cn%5Ct.OekakiWidgetCapsula%20input%5Btype%3Dcolor%5D%7B%20display%3Ablock%3B%20border%3A%200%3B%20padding%3A%200%3B%20width%3A%205ex%3B%20height%3A%205ex%3B%20%7D%5Cn%5Ct.Transparent%20%7B%20background%3A%20url(%22data%3Aimage%2Fx-ms-bmp%3Bbase64%2CQk02AwAAAAAAADYAAAAoAAAAEAAAABAAAAABABgAAAAAAAADAADEDgAAxA4AAAAAAAAAAAAA9%2Ff39%2Ff39%2Ff39%2Ff39%2Ff39%2Ff39%2Ff39%2Ff34uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi9%2Ff39%2Ff39%2Ff39%2Ff39%2Ff39%2Ff39%2Ff39%2Ff34uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi9%2Ff39%2Ff39%2Ff39%2Ff39%2Ff39%2Ff39%2Ff39%2Ff34uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi9%2Ff39%2Ff39%2Ff39%2Ff39%2Ff39%2Ff39%2Ff39%2Ff34uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi9%2Ff39%2Ff39%2Ff39%2Ff39%2Ff39%2Ff39%2Ff39%2Ff34uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi9%2Ff39%2Ff39%2Ff39%2Ff39%2Ff39%2Ff39%2Ff39%2Ff34uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi9%2Ff39%2Ff39%2Ff39%2Ff39%2Ff39%2Ff39%2Ff39%2Ff34uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi9%2Ff39%2Ff39%2Ff39%2Ff39%2Ff39%2Ff39%2Ff39%2Ff34uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi9%2Ff39%2Ff39%2Ff39%2Ff39%2Ff39%2Ff39%2Ff39%2Ff34uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi9%2Ff39%2Ff39%2Ff39%2Ff39%2Ff39%2Ff39%2Ff39%2Ff34uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi9%2Ff39%2Ff39%2Ff39%2Ff39%2Ff39%2Ff39%2Ff39%2Ff34uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi9%2Ff39%2Ff39%2Ff39%2Ff39%2Ff39%2Ff39%2Ff39%2Ff34uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi9%2Ff39%2Ff39%2Ff39%2Ff39%2Ff39%2Ff39%2Ff39%2Ff34uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi9%2Ff39%2Ff39%2Ff39%2Ff39%2Ff39%2Ff39%2Ff39%2Ff34uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi9%2Ff39%2Ff39%2Ff39%2Ff39%2Ff39%2Ff39%2Ff39%2Ff34uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi9%2Ff39%2Ff39%2Ff39%2Ff39%2Ff39%2Ff39%2Ff39%2Ff3%20!important%22)%3B%20%20%7D%5Cn%27%2Cthis.toolBoxInnerHTML%3D%27%5Cn%3Chr%3E%5CnBrush%20size%3A%20%3Cbr%3E%5Cn%3Cinput%20type%3D%22range%22%20min%3D1%20max%3D100%20id%3D%22brushSizeSlider%22%3E%3C%2Finput%3E%20%3Cbr%3E%5Cn%3Cinput%20type%3D%22number%22%20min%3D1%20step%3D1%20id%3D%22brushSize%22%3E%3C%2Finput%3E%20%3Cbr%3E%5Cn%3Chr%3E%5CnBrush%20Opacity%3A%20%3Cbr%3E%5Cn%3Cinput%20type%3D%22range%22%20%20min%3D1%20max%3D100%20id%3D%22brushOpacitySlider%22%3E%3C%2Finput%3E%20%3Cbr%3E%5Cn%3Cinput%20type%3D%22number%22%20min%3D1%20step%3D1%20id%3D%22brushOpacity%22%3E%3C%2Finput%3E%20%3Cbr%3E%5Cn%3Chr%3E%5CnBrush%20Density%3A%20%3Cbr%3E%5Cn%3Cinput%20type%3D%22range%22%20%20min%3D1%20max%3D100%20id%3D%22brushDensitySlider%22%3E%3C%2Finput%3E%20%3Cbr%3E%5Cn%3Cinput%20type%3D%22number%22%20min%3D1%20step%3D3%20id%3D%22brushDensity%22%3E%3C%2Finput%3E%20%3Cbr%3E%5Cn%3Chr%3E%5CnColor%3A%20%3Cbr%3E%5Cn%3Ctable%3E%5Cn%3Ctr%3E%3Ctd%3E%3Cinput%20type%3D%22color%22%20id%3D%22brushColor1%22%3E%3C%2Finput%3E%3C%2Ftd%3E%3Ctd%3E%3Cinput%20type%3D%22color%22%20id%3D%22brushColor2%22%3E%3C%2Finput%3E%3C%2Ftd%3E%3Ctd%3E%3Cinput%20type%3D%22color%22%20id%3D%22brushColorExtra%22%3E%3C%2Finput%3E%3C%2Ftd%3E%5Cn%3Ctr%3E%3Ctd%3E%3Cbutton%20id%3D%22useBrushColor1%22%3EUse%3C%2Fbutton%3E%3C%2Ftd%3E%3Ctd%3E%3Cbutton%20id%3D%22useBrushColor2%22%3EUse%3C%2Fbutton%3E%3C%2Ftd%3E%3Ctd%3E%3Cbutton%20id%3D%22useBrushColorExtra%22%3EUse%3C%2Fbutton%3E%3C%2Ftd%3E%3C%2Ftr%3E%5Cn%3C%2Ftable%3E%5Cn%3Chr%3E%5CnTool%20mode%3A%20%3Cbr%3E%5Cn%3Cinput%20type%3D%22checkbox%22%20id%3D%22Normal%22%20name%3D%22Mode%22%20checked%3E%3C%2Finput%3E%20%3Clabel%20for%3D%22Normal%22%3E%5BNormal%5D%3C%2Flabel%3E%20%20%3Cbr%3E%5Cn%3Cinput%20type%3D%22checkbox%22%20id%3D%22Eraser%22%20name%3D%22Mode%22%20%3E%3C%2Finput%3E%20%3Clabel%20for%3D%22Eraser%22%3E%5BEraser%5D%3C%2Flabel%3E%20%3Cbr%3E%5Cn%3Cinput%20type%3D%22checkbox%22%20id%3D%22AlphaLock%22%20name%3D%22Mode%22%20%3E%3C%2Finput%3E%20%3Clabel%20for%3D%22AlphaLock%22%3E%5BAlpha%20Lock%5D%3C%2Flabel%3E%20%3Cbr%3E%5Cn%3Chr%3E%5CnTool%3A%20%3Cbr%3E%5Cn%3Cinput%20type%3D%22checkbox%22%20id%3D%22Pixel%22%20name%3D%22Tool%22%20%3E%3C%2Finput%3E%20%3Clabel%20for%3D%22Pixel%22%3E%5BPixel%5D%3C%2Flabel%3E%20%20%3Cbr%3E%5Cn%3Cinput%20type%3D%22checkbox%22%20id%3D%22Brush%22%20name%3D%22Tool%22%20checked%3E%3C%2Finput%3E%20%3Clabel%20for%3D%22Brush%22%3E%5BBrush%5D%3C%2Flabel%3E%20%20%3Cbr%3E%5Cn%3Cinput%20type%3D%22checkbox%22%20id%3D%22Airbrush%22%20name%3D%22Tool%22%20%3E%3C%2Finput%3E%20%3Clabel%20for%3D%22Airbrush%22%3E%5BAirbrush%5D%3C%2Flabel%3E%20%20%3Cbr%3E%5Cn%3Cinput%20type%3D%22checkbox%22%20id%3D%22Bucket%22%20name%3D%22Tool%22%20%3E%3C%2Finput%3E%20%3Clabel%20for%3D%22Bucket%22%3E%5BBucket%5D%3C%2Flabel%3E%20%3Cbr%3E%5Cn%3Cinput%20type%3D%22checkbox%22%20id%3D%22ColorPicker%22%20name%3D%22Tool%22%20%3E%3C%2Finput%3E%20%3Clabel%20for%3D%22ColorPicker%22%3E%5BColorPicker%5D%3C%2Flabel%3E%20%3Cbr%3E%5Cn%3Cinput%20type%3D%22checkbox%22%20id%3D%22Lasso%22%20name%3D%22Tool%22%20%3E%3C%2Finput%3E%20%3Clabel%20for%3D%22Lasso%22%3E%5BLasso%5D%3C%2Flabel%3E%20%3Cbr%3E%5Cn%3Cinput%20type%3D%22checkbox%22%20id%3D%22Line%22%20name%3D%22Tool%22%20%3E%3C%2Finput%3E%20%3Clabel%20for%3D%22Line%22%3E%5BLine%5D%3C%2Flabel%3E%20%3Cbr%3E%5Cn%3Chr%3E%5Cn%3Ctable%20id%3D%22layerCommands%22%3E%3Ctr%3E%3Ctd%3E%3Cbutton%20id%3D%22newLayer%22%3E%2B%3C%2Fbutton%3E%3C%2Ftd%3E%3Ctd%3E%3Cbutton%20id%3D%22deleteLayer%22%3E-%3C%2Fbutton%3E%3C%2Ftd%3E%3Ctd%3E%3Cbutton%20id%3D%22merge%22%3EMerge%3C%2Fbutton%3E%3C%2Ftd%3E%3Ctd%3E%3Cbutton%20id%3D%22layerUp%22%3E%5E%3C%2Fbutton%3E%3C%2Ftd%3E%3Ctd%3E%3Cbutton%20id%3D%22layerDown%22%3Ev%3C%2Fbutton%3E%3Ctd%3E%3C%2Ftr%3E%20%5Cn%3Ctr%3E%3Ctd%20colspan%3D5%3E%3Cinput%20type%3D%22range%22%20min%3D%220%22%20max%3D%22100%22%20id%3D%22layerOpacity%22%20value%3D%22100%22%3E%3C%2Ftd%3E%3C%2Ftr%3E%20%3C%2Ftable%3E%5Cn%3Cdiv%20id%3D%22layersDisplay%22%3E%5Cn%3Ctable%20id%3D%22layersDisplayTable%22%3E%5Cn%3C%2Ftable%3E%5Cn%3C%2Fdiv%3E%5Cn%3Chr%3E%5CnPaper%3A%20%3Cbr%3E%5Cn%3Ctable%20class%3D%22layersTable%22%3E%5Cn%3Ctr%3E%3Ctd%3E%3Cinput%20type%3D%22color%22%20id%3D%22bgColor%22%3E%3C%2Finput%3E%3C%2Ftd%3E%3Ctd%3E%3Cinput%20type%3D%22range%22%20min%3D%220%22%20max%3D%22100%22%20id%3D%22bgOpacity%22%20value%3D%22100%22%3E%3C%2Finput%3E%3C%2Ftd%3E%3C%2Ftr%3E%5Cn%3C%2Ftable%3E%5Cn%3Chr%3E%5Cn%27%2Cthis.handleInnerHTML%3D%27%5Cn%3Cdiv%20class%3D%22right%22%3E%20%3Cbutton%20id%3D%22info%22%3EREADME.txt%3C%2Fbutton%3E%20%3Cbutton%20id%3D%22togglePin%22%3EPin%3C%2Fbutton%3E%20%3Cbutton%20id%3D%22newOekaki%22%3ENew%3C%2Fbutton%3E%20%3Cbutton%20id%3D%22kill%22%3EKill%3C%2Fbutton%3E%3C%2Fdiv%3E%20%20%3Cspan%20id%3D%22canvasSize%22%3E%3C%2Fspan%3E%20%3Cdiv%20class%3D%22left%22%3E%3Cbutton%20id%3D%22toggleTools%22%3EToggle%20tools%3C%2Fbutton%3E%20%3Cbutton%20id%3D%22clearLayer%22%3EClear%20layer%3C%2Fbutton%3E%20%3Cbutton%20id%3D%22download%22%3EDownload%3C%2Fbutton%3E%20%3C%2Fdiv%3E%20%5Cn%5Cn%27%2Cthis.readMeTxt%3D%22%5CnBy%20RIPY%20%40xRIPY%5CnA%20really%20simple%20but%20feature-full%20script%20drawing%20app.%20Quite%20easy%20to%20expand%20on%20too!%5Cn---%5Cn%5BRIGHT%20CLICK%5D%20to%20color%20pick%5Cn%5BCTRL%2BZ%5D%20undo%5Cn%5BCTRL%2BY%5D%20redo%5Cn%5BE%5D%20Eraser%20mode%5Cn%5BB%5D%20Normal%20mode%5Cn%5BW%5D%20Show%20tools%5Cn%5BA%5D%20-%20Brush%20size%5Cn%5BD%5D%20%2B%20Brush%20size%5Cn%5BS%7CX%5D%20Change%20between%20%5Berase%2Fnormal%5D%20mode%5Cn%5BR%5D%20Reverse%20view%5Cn%5BSPACE%5D%20Pan%5Cn---%5Cn%22%2Cthis.oekakiWidgetCapsula%3Ddocument.createElement(%22div%22)%2Cthis.oekakiWidgetCapsula.className%3D%22OekakiWidgetCapsula%22%2Cthis.oekakiWidgetCapsula.containerOf%3De%2Cthis.draft%3Ddocument.createElement(%22canvas%22)%2Cthis.draft.id%3D%22OekakiDraft%22%2Cthis.draftCTX%3Dthis.draft.getContext(%222d%22)%2Cthis.cursor%3Ddocument.createElement(%22canvas%22)%2Cthis.cursor.id%3D%22OekakiCursor%22%2Cthis.cursorCTX%3Dthis.cursor.getContext(%222d%22)%2Cthis.layers%3D%5B%5D%2Cthis.currentLayer%3D0%2Cthis.layerUniqueID%3D0%2Cthis.history%3D%5B%5D%2Cthis.layersArea%3Ddocument.createElement(%22div%22)%2Cthis.layersArea.id%3D%22LayersArea%22%2Cthis.egg%3Ddocument.createElement(%22div%22)%2Cthis.egg.id%3D%22EasterEgg%22%2Cthis.toolBox%3Ddocument.createElement(%22div%22)%2Cthis.toolBox.id%3D%22ToolBox%22%2Cthis.handle%3Ddocument.createElement(%22div%22)%2Cthis.handle.id%3D%22Handle%22%2Cthis.paper%3Ddocument.createElement(%22canvas%22)%2Cthis.paper.id%3D%22Paper%22%2Cthis.paperCTX%3Dthis.paper.getContext(%222d%22)%2Cthis.layersDisplayTable%3D%22%22%2Cthis.brushSizePresets%3D%5B1%2C2%2C3%2C4%2C5%2C6%2C7%2C8%2C10%2C12%2C15%2C17%2C20%2C25%2C30%2C40%2C50%2C60%2C70%2C80%2C100%2C120%2C150%2C170%2C200%2C250%5D%2Cthis.brushSize%3D3%2Cthis.brushOpacity%3D75%2Cthis.brushDensity%3D50%2Cthis.brushColor%3D%7Br%3A0%2Cg%3A0%2Cb%3A0%7D%2Cthis.brushMode%3D%22source-over%22%2Cthis.tool%3D%22brush%22%2Cthis.focused%3D!0%2Cthis.movable%3D!0%2Cthis.pinned%3D!1%2Cthis.reversed%3D!1%2Cthis.panning%3D!1%2Cthis.patternMakerDithering%3D!0%2Cthis.canvasWidth%3D600%2Cthis.canvasHeight%3D740%2Cthis.Setup%3Dfunction(t%3D600%2Ca%3D740%2Ci%2Cr%2Cs)%7Bif(document.addEventListener(%22mousedown%22%2CL)%2Cdocument.addEventListener(%22keydown%22%2CS)%2Cdocument.addEventListener(%22keyup%22%2CW)%2Cdocument.addEventListener(%22keypress%22%2Cw)%2Cthis.canvasWidth%3Dt%2Cthis.canvasHeight%3Da%2Cthis.draft.width%3Dthis.canvasWidth%2Cthis.draft.height%3Dthis.canvasHeight%2Cthis.draftCTX.globalAlpha%3De.brushDensity%2F100%2Cthis.cursor.width%3Dthis.canvasWidth%2Cthis.cursor.height%3Dthis.canvasHeight%2Cthis.paper.width%3Dthis.canvasWidth%2Cthis.paper.height%3Dthis.canvasHeight%2Cthis.paper.style.opacity%3D100%2Cthis.draft.style.transform%3D%22%22%2Cthis.reversed%3D!1%2Cthis.oekakiWidgetCapsula.style.position%3D%22absolute%22%2Cdocument.querySelector(%22body%22).prepend(this.oekakiWidgetCapsula)%2C!document.getElementById(%22OekakiWidgetStyle%22))%7Blet%20e%3Ddocument.createElement(%22style%22)%3Be.id%3D%22OekakiWidgetStyle%22%2Ce.innerHTML%3Dthis.style%2Cdocument.querySelector(%22head%22).prepend(e)%7Dif(this.oekakiWidgetCapsula.appendChild(this.handle)%2Cthis.oekakiWidgetCapsula.appendChild(this.egg)%2Cthis.oekakiWidgetCapsula.appendChild(this.toolBox)%2Cthis.oekakiWidgetCapsula.appendChild(this.cursor)%2Cthis.oekakiWidgetCapsula.appendChild(this.layersArea)%2Cthis.oekakiWidgetCapsula.appendChild(this.paper)%2Cthis.oekakiWidgetCapsula.appendChild(this.draft)%2Cthis.handle.innerHTML%3Dthis.handleInnerHTML%2Cthis.egg.innerHTML%3D%22%3Cspan%20style%3D%27color%3Argba(255%2C0%2C0%2C0)%3B%20font-family%3AMS%20PGothic%27%20%3E(%E3%81%A3%E3%83%BB%CF%89%E3%83%BB)%E3%81%A3%3C%2Fspan%3E%22%2Cthis.egg.style%3D%22transform%3Atranslate(-100%25%2C-100%25)%3B%20position%3Aabsolute%3B%20padding%3A%200%3B%20text-align%3Acenter%3B%20%22%2Cthis.toolBox.innerHTML%3Dthis.toolBoxInnerHTML%2Cthis.toolBox.style%3D%22transform%3Atranslate(-100%25%2C0%25)%3B%20position%3Aabsolute%22%2Cthis.cursor.style%3D%22position%3Aabsolute%3B%20z-index%3A9999%22%2Cthis.cursor.width%3Dthis.canvasWidth%2Cthis.cursor.height%3Dthis.canvasHeight%2Cthis.layersArea.style%3D%22position%3Aabsolute%3B%20z-index%3A%209998%22%2Cthis.paper.width%3Dthis.canvasWidth%2Cthis.paper.height%3Dthis.canvasHeight%2Cthis.paper.style%3D%22position%3Aabsolute%3B%20z-index%3A%209997%22%2Cs)%7Bvar%20l%2Cn%3Ddocument.createElement(%22canvas%22)%2Co%3Dn.getContext(%222d%22)%3Bn.width%3Dt%2Cn.height%3Da%2Co.fillStyle%3Ds%2Co.fillRect(0%2C0%2Ct%2Ca)%2Cl%3Dn%2Cthis.paperCTX.drawImage(l%2C0%2C0)%2Cthis.oekakiWidgetCapsula.querySelector(%22%23bgColor%22).value%3Ds%7De.UpdateHistory(%22paper%22%2Cthis.paperCTX.getImageData(0%2C0%2Cthis.canvasWidth%2Cthis.canvasHeight)%2C%7Bopacity%3A%221%22%2Ccolor%3Athis.BGColor%7D%2C%22new%20layer%22)%2Cthis.draft.width%3Dthis.canvasWidth%2Cthis.draft.height%3Dthis.canvasHeight%2Cthis.draft.style%3D%22position%3A%20relative%3B%20z-index%3A10000%3B%20opacity%3A%200%3B%22%2Cthis.draftCTX.globalAlpha%3De.brushDensity%2F100%2Cthis.egg.style.width%3Dthis.toolBox.getBoundingClientRect().width%2B%22px%22%2Cthis.egg.style.height%3Dthis.handle.getBoundingClientRect().height%2B%22px%22%2Cthis.egg.style.lineHeight%3Dthis.handle.getBoundingClientRect().height%2B%22px%22%2Cthis.toolBox.style.height%3Dthis.draft.getBoundingClientRect().height%2B%22px%22%2Cthis.egg.style.display%3D%22none%22%2Cthis.toolBox.style.display%3D%22none%22%2Cthis.layersDisplayTable%3Dthis.oekakiWidgetCapsula.querySelector(%22%23layersDisplay%20%23layersDisplayTable%22)%2Cthis.NewLayer()%2Ci%26%26r%3F(this.oekakiWidgetCapsula.style%3D%22top%3A%22%2BMath.round(r-this.handle.getBoundingClientRect().height)%2B%22px%3B%20left%3A%22%2Bi%2B%22px%3B%20z-index%3A10000%22%2Cthis.oekakiWidgetCapsula.style.position%3D%22absolute%22)%3Athis.oekakiWidgetCapsula.style%3D%22top%3A%2050%25%3B%20left%3A50%25%3B%20transform%3Atranslate(-50%25%2C-50%25)%3B%20z-index%3A10000%3B%20position%3A%20fixed%22%2Cthis.oekakiWidgetCapsula.addEventListener(%22mousedown%22%2Cfunction()%7Bdocument.querySelectorAll(%22.OekakiWidgetCapsula%22).forEach(e%3D%3Ee.style.zIndex%3D%2210000%22)%3Bthis.style.zIndex%3D%2210001%22%7D)%3Bvar%20u%3Dthis.oekakiWidgetCapsula.getBoundingClientRect()%3Bfunction%20h(t%2Ca)%7Bvar%20i%3De.oekakiWidgetCapsula.querySelectorAll(%22input%5Btype%3D%27checkbox%27%5D%5Bname%3D%27%22%2Bt%2B%22%27%5D%22)%3Bfor(let%20e%3D0%3Be%3Ci.length%3Be%2B%2B)i%5Be%5D.checked%3D!1%3Ba.checked%3D!0%7Dthis.oekakiWidgetCapsula.style.transform%3D%22%22%2Cthis.pinned%3F(this.oekakiWidgetCapsula.style.position%3D%22fixed%22%2Cthis.oekakiWidgetCapsula.style.top%3Du.top%2B%22px%22%2Cthis.oekakiWidgetCapsula.style.left%3Du.left%2B%22px%22)%3A(this.oekakiWidgetCapsula.style.position%3D%22absolute%22%2Cthis.oekakiWidgetCapsula.style.top%3Du.top%2Bwindow.scrollY%2B%22px%22%2Cthis.oekakiWidgetCapsula.style.left%3Du.left%2Bwindow.scrollX%2B%22px%22)%2Cthis.oekakiWidgetCapsula.querySelector(%22%23brushSize%22).value%3Dthis.brushSize%2Cthis.oekakiWidgetCapsula.querySelector(%22%23brushSizeSlider%22).value%3Dthis.brushSize%2Cthis.oekakiWidgetCapsula.querySelector(%22%23brushOpacity%22).value%3Dthis.brushOpacity%2Cthis.oekakiWidgetCapsula.querySelector(%22%23brushOpacitySlider%22).value%3Dthis.brushOpacity%2Cthis.oekakiWidgetCapsula.querySelector(%22%23brushDensity%22).value%3Dthis.brushDensity%2Cthis.oekakiWidgetCapsula.querySelector(%22%23brushDensitySlider%22).value%3Dthis.brushDensity%2Cthis.oekakiWidgetCapsula.querySelector(%22%23brushColor1%22).value%3D%22%23%22%2Bthis.brushColor.r.toString(16).padStart(2%2C%220%22)%2Bthis.brushColor.g.toString(16).padStart(2%2C%220%22)%2Bthis.brushColor.b.toString(16).padStart(2%2C%220%22)%2Cthis.oekakiWidgetCapsula.querySelector(%22%23brushColor2%22).value%3D%22%23FF0000%22%2Cthis.oekakiWidgetCapsula.querySelector(%22%23brushColorExtra%22).value%3D%22%230000FF%22%2Cthis.oekakiWidgetCapsula.querySelector(%22%23canvasSize%22).innerHTML%3Dthis.canvasWidth%2B%22x%22%2Bthis.canvasHeight%2Cthis.oekakiWidgetCapsula.querySelector(%22%23bgColor%22).value%3D%22%23000000%22%2Cthis.oekakiWidgetCapsula.querySelector(%22%23kill%22).addEventListener(%22mousedown%22%2Cfunction(e)%7Be.stopPropagation()%7D)%2Cthis.oekakiWidgetCapsula.querySelector(%22%23clearLayer%22).addEventListener(%22mousedown%22%2Cfunction(e)%7Be.stopPropagation()%7D)%2Cthis.oekakiWidgetCapsula.querySelector(%22%23toggleTools%22).addEventListener(%22mousedown%22%2Cfunction(e)%7Be.stopPropagation()%7D)%2Cthis.oekakiWidgetCapsula.querySelector(%22%23newOekaki%22).addEventListener(%22mousedown%22%2Cfunction(e)%7Be.stopPropagation()%7D)%2Cthis.oekakiWidgetCapsula.querySelector(%22%23kill%22).addEventListener(%22click%22%2Cfunction(t)%7Be.Kill(!0)%7D)%2Cthis.oekakiWidgetCapsula.querySelector(%22%23toggleTools%22).addEventListener(%22click%22%2Cfunction(t)%7Be.OpenToolBox()%7D)%2Cthis.oekakiWidgetCapsula.querySelector(%22%23clearLayer%22).addEventListener(%22click%22%2Cfunction(t)%7Be.ClearLayer()%7D)%2Cthis.oekakiWidgetCapsula.querySelector(%22%23newOekaki%22).addEventListener(%22click%22%2Cfunction(t)%7Bvar%20a%3Dprompt(%22New%20oekaki%3F%20%5Cn%5BWIDTH%5Dx%5BHEIGHT%5D%20%5BBG_HEX_COLOR%5D%5Ct%20%7C%20Custom%20size.%5CnSNIPPET%20%5BBG_HEX_COLOR%5D%5Ct%5Ct%5Ct%5Ct%20%7C%20Draw%20boundaries%20event.%22%2Ce.oekakiWidgetCapsula.querySelector(%22%23canvasSize%22).innerHTML)%3Bif((%22string%22%3D%3Dtypeof%20a%7C%7Ca%20instanceof%20String)%26%26(a%3Da.toLowerCase())%2Ca)%7B%22snippet%22%3D%3Da.split(%22%20%22)%5B0%5D%26%26(e.Kill(!0)%2Ce.HtmlSnippetTool(a.split(%22%20%22)%5B1%5D))%2C%22%22%3D%3Da%26%26e.NewOekaki(e.oekakiWidgetCapsula.querySelector(%22%23canvasSize%22).innerHTML.split(%22x%22)%5B0%5D%2Ce.oekakiWidgetCapsula.querySelector(%22%23canvasSize%22).innerHTML.split(%22x%22)%5B1%5D)%3Btry%7BisNaN(a.split(%22x%22)%5B0%5D)%7C%7CisNaN(a.split(%22x%22)%5B1%5D.split(%22%20%22)%5B0%5D)%7C%7Ce.NewOekaki(a.split(%22x%22)%5B0%5D%2Ca.split(%22x%22)%5B1%5D.split(%22%20%22)%5B0%5D%2Ca.split(%22%20%22)%5B1%5D)%7Dcatch(t)%7B%7D%7D%7D)%2Cthis.oekakiWidgetCapsula.querySelector(%22%23info%22).addEventListener(%22click%22%2Cfunction(t)%7Balert(e.readMeTxt)%7D)%2Cthis.oekakiWidgetCapsula.querySelector(%22%23togglePin%22).addEventListener(%22click%22%2Cfunction(t)%7Be.TogglePinned()%7D)%2Cthis.oekakiWidgetCapsula.querySelector(%22%23download%22).addEventListener(%22click%22%2Cfunction(t)%7Bvar%20a%3Ddocument.createElement(%22a%22)%3Ba.download%3De.oekakiWidgetCapsula.querySelector(%22%23canvasSize%22).innerHTML%2B%22_%22%2BDate.now()%2Ca.href%3De.FlattenCanvas().canvas.toDataURL()%2Ca.click()%7D)%2Cthis.oekakiWidgetCapsula.querySelector(%22%23brushSize%22).addEventListener(%22input%22%2Cfunction(t)%7Be.SetBrushSize(this.value)%7D)%2Cthis.oekakiWidgetCapsula.querySelector(%22%23brushSizeSlider%22).addEventListener(%22input%22%2Cfunction(t)%7Be.SetBrushSize(this.value)%7D)%2Cthis.oekakiWidgetCapsula.querySelector(%22%23brushOpacity%22).addEventListener(%22input%22%2Cfunction(t)%7Be.SetBrushOpacity(this.value)%7D)%2Cthis.oekakiWidgetCapsula.querySelector(%22%23brushOpacitySlider%22).addEventListener(%22input%22%2Cfunction(t)%7Be.SetBrushOpacity(this.value)%7D)%2Cthis.oekakiWidgetCapsula.querySelector(%22%23brushDensity%22).addEventListener(%22input%22%2Cfunction(t)%7Be.SetBrushDensity(this.value)%7D)%2Cthis.oekakiWidgetCapsula.querySelector(%22%23brushDensitySlider%22).addEventListener(%22input%22%2Cfunction(t)%7Be.SetBrushDensity(this.value)%7D)%2Cthis.oekakiWidgetCapsula.querySelector(%22%23brushColor1%22).addEventListener(%22change%22%2Cfunction(t)%7Be.SetBrushColor(this.value)%7D)%2Cthis.oekakiWidgetCapsula.querySelector(%22%23brushColor2%22).addEventListener(%22change%22%2Cfunction(t)%7Be.SetBrushColor(this.value)%7D)%2Cthis.oekakiWidgetCapsula.querySelector(%22%23brushColorExtra%22).addEventListener(%22change%22%2Cfunction(t)%7Be.SetBrushColor(this.value)%7D)%2Cthis.oekakiWidgetCapsula.querySelector(%22%23useBrushColor1%22).addEventListener(%22click%22%2Cfunction(t)%7Be.SetBrushColor(e.oekakiWidgetCapsula.querySelector(%22%23brushColor1%22).value)%7D)%2Cthis.oekakiWidgetCapsula.querySelector(%22%23useBrushColor2%22).addEventListener(%22click%22%2Cfunction(t)%7Be.SetBrushColor(e.oekakiWidgetCapsula.querySelector(%22%23brushColor2%22).value)%7D)%2Cthis.oekakiWidgetCapsula.querySelector(%22%23useBrushColorExtra%22).addEventListener(%22click%22%2Cfunction(t)%7Be.SetBrushColor(e.oekakiWidgetCapsula.querySelector(%22%23brushColorExtra%22).value)%7D)%2Cthis.oekakiWidgetCapsula.querySelector(%22%23bgColor%22).addEventListener(%22change%22%2Cfunction(t)%7Be.paperCTX.clearRect(0%2C0%2Ce.canvasWidth%2Ce.canvasHeight)%2Ce.paperCTX.fillStyle%3Dthis.value%2Ce.paperCTX.fillRect(0%2C0%2Ce.canvasWidth%2Ce.canvasHeight)%2Ce.UpdateHistory(%22paper%22%2Ce.paperCTX.getImageData(0%2C0%2Ce.canvasWidth%2Ce.canvasHeight)%2C%7Bopacity%3A%221%22%2Ccolor%3Athis.value%7D%2C%22change%20paper%20color%22)%7D)%2Cthis.oekakiWidgetCapsula.querySelector(%22%23Normal%22).addEventListener(%22click%22%2Cfunction()%7Be.SetBrushMode(%22source-over%22)%2Ch(%22Mode%22%2Cthis)%7D)%2Cthis.oekakiWidgetCapsula.querySelector(%22%23Eraser%22).addEventListener(%22click%22%2Cfunction()%7Be.SetBrushMode(%22destination-out%22)%2Ch(%22Mode%22%2Cthis)%7D)%2Cthis.oekakiWidgetCapsula.querySelector(%22%23AlphaLock%22).addEventListener(%22click%22%2Cfunction()%7Be.SetBrushMode(%22source-atop%22)%2Ch(%22Mode%22%2Cthis)%7D)%2Cthis.oekakiWidgetCapsula.querySelector(%22%23Pixel%22).addEventListener(%22click%22%2Cfunction()%7Be.SetTool(%22pixel%22)%2Ch(%22Tool%22%2Cthis)%7D)%2Cthis.oekakiWidgetCapsula.querySelector(%22%23Brush%22).addEventListener(%22click%22%2Cfunction()%7Be.SetTool(%22brush%22)%2Ch(%22Tool%22%2Cthis)%7D)%2Cthis.oekakiWidgetCapsula.querySelector(%22%23Airbrush%22).addEventListener(%22click%22%2Cfunction()%7Be.SetTool(%22airbrush%22)%2Ch(%22Tool%22%2Cthis)%7D)%2Cthis.oekakiWidgetCapsula.querySelector(%22%23Bucket%22).addEventListener(%22click%22%2Cfunction()%7Be.SetTool(%22bucket%22)%2Ch(%22Tool%22%2Cthis)%7D)%2Cthis.oekakiWidgetCapsula.querySelector(%22%23ColorPicker%22).addEventListener(%22click%22%2Cfunction()%7Be.SetTool(%22colorpicker%22)%2Ch(%22Tool%22%2Cthis)%7D)%2Cthis.oekakiWidgetCapsula.querySelector(%22%23Lasso%22).addEventListener(%22click%22%2Cfunction()%7Be.SetTool(%22lasso%22)%2Ch(%22Tool%22%2Cthis)%7D)%2Cthis.oekakiWidgetCapsula.querySelector(%22%23Line%22).addEventListener(%22click%22%2Cfunction()%7Be.SetTool(%22line%22)%2Ch(%22Tool%22%2Cthis)%7D)%2Cthis.oekakiWidgetCapsula.querySelector(%22%23bgOpacity%22).addEventListener(%22input%22%2Cfunction()%7Be.SetPaperOpacity(this.value)%7D)%2Cthis.oekakiWidgetCapsula.querySelector(%22%23layerOpacity%22).addEventListener(%22input%22%2Cfunction()%7Be.SetLayerOpacity(this.value)%7D)%2Cthis.oekakiWidgetCapsula.querySelector(%22%23newLayer%22).addEventListener(%22click%22%2Cfunction()%7Be.NewLayer(e.currentLayer)%7D)%2Cthis.oekakiWidgetCapsula.querySelector(%22%23deleteLayer%22).addEventListener(%22click%22%2Cfunction()%7Be.DeleteCurrentLayer()%7D)%2Cthis.oekakiWidgetCapsula.querySelector(%22%23merge%22).addEventListener(%22click%22%2Cfunction()%7Be.MergeBelowLayer()%7D)%2Cthis.oekakiWidgetCapsula.querySelector(%22%23layerUp%22).addEventListener(%22click%22%2Cfunction()%7Be.LayerUp()%7D)%2Cthis.oekakiWidgetCapsula.querySelector(%22%23layerDown%22).addEventListener(%22click%22%2Cfunction()%7Be.LayerDown()%7D)%2Cthis.handle.addEventListener(%22mousedown%22%2Cd%2C!1)%2Cthis.egg.addEventListener(%22mousedown%22%2Cd%2C!1)%2Cthis.oekakiWidgetCapsula.addEventListener(%22mousedown%22%2Cfunction(t)%7Bif(!e.panning)return%3Bvar%20a%3De.handle.getBoundingClientRect()%3Bc%3D%7Bx%3At.clientX-a.x%2Cy%3At.clientY-a.y%7D%2Cwindow.addEventListener(%22mousemove%22%2Cp%2C!0)%7D%2C!1)%2Cwindow.addEventListener(%22mouseup%22%2Cfunction()%7Bwindow.removeEventListener(%22mousemove%22%2Cp%2C!0)%7D%2C!1)%3Bvar%20c%3D%22%22%3Bfunction%20d(t)%7Bvar%20a%3De.handle.getBoundingClientRect()%3Bc%3D%7Bx%3At.clientX-a.x%2Cy%3At.clientY-a.y%7D%2Cwindow.addEventListener(%22mousemove%22%2Cp%2C!0)%7Dfunction%20p(t)%7Bif(e.movable%26%26!(t.clientY%3C%3D1))%7Bvar%20a%3De.oekakiWidgetCapsula%3Be.pinned%3F(a.style.top%3Dt.clientY-c.y%2B%22px%22%2Ca.style.left%3Dt.clientX-c.x%2B%22px%22)%3A(a.style.top%3Dt.clientY-c.y%2Bwindow.scrollY%2B%22px%22%2Ca.style.left%3Dt.clientX-c.x%2Bwindow.scrollX%2B%22px%22)%7D%7D%7D%2Cthis.Kill%3Dfunction(e)%7Bthis.layersArea.innerHTML%3D%22%22%2Cthis.layers%3D%5B%5D%2Cthis.layerUniqueID%3D0%2Cthis.currentLayer%3D0%2Cthis.history%3D%5B%5D%2Ce%26%26(this.oekakiWidgetCapsula.remove()%2Cdocument.removeEventListener(%22keydown%22%2CS)%2Cdocument.removeEventListener(%22keyup%22%2CW)%2Cdocument.removeEventListener(%22keypress%22%2Cw)%2Cdocument.removeEventListener(%22mousedown%22%2CL))%7D%2Cthis.NewOekaki%3Dfunction(t%2Ca%2Ci)%7Bthis.canvasWidth%3Dt%2Cthis.canvasHeight%3Da%2Cthis.oekakiWidgetCapsula.querySelector(%22%23canvasSize%22).innerHTML%3Dthis.canvasWidth%2B%22x%22%2Bthis.canvasHeight%2Cthis.draft.width%3Dthis.canvasWidth%2Cthis.draft.height%3Dthis.canvasHeight%2Cthis.draftCTX.globalAlpha%3De.brushDensity%2F100%2Cthis.cursor.width%3Dthis.canvasWidth%2Cthis.cursor.height%3Dthis.canvasHeight%2Cthis.paper.width%3Dthis.canvasWidth%2Cthis.paper.height%3Dthis.canvasHeight%2Cthis.oekakiWidgetCapsula.querySelector(%22%23bgColor%22).value%3Di%2Cthis.paper.style.opacity%3D100%2Cthis.oekakiWidgetCapsula.querySelector(%22%23bgOpacity%22).value%3D100%2Cthis.draft.style.transform%3D%22%22%2Cthis.reversed%3D!1%2Cthis.Kill()%2Ci%26%26(this.paperCTX.fillStyle%3Di%2Cthis.paperCTX.fillRect(0%2C0%2Ct%2Ca))%2Ce.UpdateHistory(%22paper%22%2Cthis.paperCTX.getImageData(0%2C0%2Cthis.canvasWidth%2Cthis.canvasHeight)%2C%7Bopacity%3A%221%22%2Ccolor%3Athis.BGColor%7D%2C%22new%20layer%22)%2Cthis.NewLayer()%7D%2Cthis.OpenToolBox%3Dfunction()%7Be.oekakiWidgetCapsula.querySelector(%22%23toggleTools%22).addEventListener(%22click%22%2Ce.CloseToolBox)%2Ce.oekakiWidgetCapsula.querySelector(%22%23toggleTools%22).removeEventListener(%22click%22%2Ce.OpenToolBox)%2Ce.egg.style.display%3D%22block%22%2Ce.toolBox.style.display%3D%22block%22%7D%2Cthis.CloseToolBox%3Dfunction()%7Be.oekakiWidgetCapsula.querySelector(%22%23toggleTools%22).addEventListener(%22click%22%2Ce.OpenToolBox)%2Ce.oekakiWidgetCapsula.querySelector(%22%23toggleTools%22).removeEventListener(%22click%22%2Ce.CloseToolBox)%2Ce.egg.style.display%3D%22none%22%2Ce.toolBox.style.display%3D%22none%22%7D%2Cthis.TogglePinned%3Dfunction()%7Bthis.pinned%3D!this.pinned%3Bvar%20e%3Dthis.oekakiWidgetCapsula.getBoundingClientRect()%3Bthis.pinned%3F(this.oekakiWidgetCapsula.style.position%3D%22fixed%22%2Cthis.oekakiWidgetCapsula.style.top%3De.top%2B%22px%22%2Cthis.oekakiWidgetCapsula.style.left%3De.left%2B%22px%22)%3A(this.oekakiWidgetCapsula.style.position%3D%22absolute%22%2Cthis.oekakiWidgetCapsula.style.top%3De.top%2Bwindow.scrollY%2B%22px%22%2Cthis.oekakiWidgetCapsula.style.left%3De.left%2Bwindow.scrollX%2B%22px%22)%7D%2Cthis.ClearLayer%3Dfunction()%7Be.layers%5Be.currentLayer%5D.clearRect(0%2C0%2Ce.layers%5Be.currentLayer%5D.canvas.width%2Ce.layers%5Be.currentLayer%5D.canvas.height)%2Ce.UpdateHistory(e.layers%5Be.currentLayer%5D.canvas.id%2Ce.layers%5Be.currentLayer%5D.getImageData(0%2C0%2Ce.canvasWidth%2Ce.canvasHeight)%2C%5B%5D%2C%22stroke%22)%7D%2Cthis.ReverseView%3Dfunction()%7Bif(this.reversed)%7Bfor(let%20e%3D0%3Be%3Cthis.layers.length%3Be%2B%2B)this.layers%5Be%5D.canvas.style.transform%3D%22scale(1%2C%201)%22%3Bthis.draft.style.transform%3D%22%22%2Cthis.reversed%3D!1%7Delse%7Bfor(let%20e%3D0%3Be%3Cthis.layers.length%3Be%2B%2B)this.layers%5Be%5D.canvas.style.transform%3D%22scale(-1%2C%201)%22%3Bthis.draft.style.transform%3D%22scale(-1%2C%201)%22%2Cthis.reversed%3D!0%7D%7D%2Cthis.SetBrushSize%3Dfunction(e)%7Be%3C1%26%26(e%3D1)%2Cthis.oekakiWidgetCapsula.querySelector(%22%23brushSize%22).value%3De%2Cthis.oekakiWidgetCapsula.querySelector(%22%23brushSizeSlider%22).value%3De%2Cthis.brushSize%3De%7D%2Cthis.SetBrushOpacity%3Dfunction(e)%7Be%3C1%26%26(e%3D1)%2Cthis.oekakiWidgetCapsula.querySelector(%22%23brushOpacity%22).value%3De%2Cthis.oekakiWidgetCapsula.querySelector(%22%23brushOpacitySlider%22).value%3De%2Cthis.brushOpacity%3De%3Bfor(let%20t%3D0%3Bt%3Cthis.layers.length%3Bt%2B%2B)this.layers%5Bt%5D.globalAlpha%3De%2F100%7D%2Cthis.SetBrushDensity%3Dfunction(t)%7Bt%3C1%26%26(t%3D1)%2Cthis.oekakiWidgetCapsula.querySelector(%22%23brushDensity%22).value%3Dt%2Cthis.oekakiWidgetCapsula.querySelector(%22%23brushDensitySlider%22).value%3Dt%2Cthis.brushDensity%3Dt%2Cthis.draftCTX.globalAlpha%3De.brushDensity%2F100%7D%2Cthis.SetBrushColor%3Dfunction(e)%7Bvar%20t%3DparseInt(e%5B1%5D%2Be%5B2%5D%2C16)%2Ca%3DparseInt(e%5B3%5D%2Be%5B4%5D%2C16)%2Ci%3DparseInt(e%5B5%5D%2Be%5B6%5D%2C16)%3Bthis.brushColor%3D%7Br%3At%2Cg%3Aa%2Cb%3Ai%7D%3Bvar%20r%3D%22rgba(%22%2BMath.round(this.brushColor.r%2F6)%2B%22%2C%22%2BMath.round(this.brushColor.g%2F6)%2B%22%2C%22%2BMath.round(this.brushColor.b%2F6)%2B%22%2C0.75)%20%22%3Bthis.handle.style.backgroundColor%3Dr%2Cthis.egg.style.backgroundColor%3Dr%2Cthis.toolBox.style.backgroundColor%3Dr%7D%2Cthis.SetBrushMode%3Dfunction(e)%7Bthis.brushMode%3De%3Bfor(let%20t%3D0%3Bt%3Cthis.layers.length%3Bt%2B%2B)this.layers%5Bt%5D.globalCompositeOperation%3De%7D%2Cthis.SetTool%3Dfunction(e)%7Bthis.tool%3De%7D%2Cthis.FlattenCanvas%3Dfunction()%7Bvar%20t%3Ddocument.createElement(%22canvas%22)%3Bt.width%3De.canvasWidth%2Ct.height%3De.canvasHeight%3Bvar%20a%3Dt.getContext(%222d%22)%3Ba.globalAlpha%3De.paper.style.opacity%2Ca.drawImage(e.paper%2C0%2C0)%3Bvar%20i%3Dthis.layersArea.querySelectorAll(%22canvas%22)%3Bfor(let%20e%3Di.length-1%3Be%3E%3D0%3Be--)%22hidden%22!%3Di%5Be%5D.style.visibility%26%26(a.globalAlpha%3Di%5Be%5D.style.opacity%2Ca.drawImage(i%5Be%5D%2C0%2C0))%3Breturn%20a%7D%2Cthis.Redo%3Dfunction(t%2Ca)%7Blet%20i%3Dthis.history.at(-a)%3Bif(%22change%20opacity%22%3D%3Di.action)%22paper%22%3D%3Di.ID%3F(this.paper.style.opacity%3Di.propriety.opacity%2Cthis.oekakiWidgetCapsula.querySelector(%22%23bgOpacity%22).value%3D100*i.propriety.opacity)%3A(this.SelectLayer(i.ID)%2Cthis.layers%5Bthis.currentLayer%5D.canvas.style.opacity%3Di.propriety.opacity)%3Belse%20if(%22change%20paper%20color%22%3D%3Di.action)this.paperCTX.putImageData(i.image%2C0%2C0)%2Cthis.oekakiWidgetCapsula.querySelector(%22%23bgColor%22).value%3Di.propriety.color%3Belse%20if(%22new%20layer%22%3D%3Di.action)%7Bthis.SelectLayer(i.propriety.before)%3Bvar%20r%3Dthis.layers%5Bthis.currentLayer%5D.canvas%3Bif(this.SelectLayer(i.ID)%2C-1%3D%3Di.propriety.before)this.layersArea.appendChild(this.layers%5Bthis.currentLayer%5D.canvas)%3Belse%20try%7Bthis.layersArea.insertBefore(this.layers%5Bthis.currentLayer%5D.canvas%2Cr)%7Dcatch(e)%7Bthis.layersArea.appendChild(this.layers%5Bthis.currentLayer%5D.canvas)%7Dthis.UpdateHTMLayerDisplay()%2Cthis.SelectLayer(i.ID)%7Delse%20if(%22deleted%20layer%22%3D%3Di.action)this.SelectLayer(i.ID)%2Cthis.layers%5Bthis.currentLayer%5D.canvas.remove()%2Ci.propriety.before%3Fthis.SelectLayer(i.propriety.before)%3Athis.SelectLayer(this.layersArea.lastChild.id)%3Belse%20if(%22stroke%22%3D%3Di.action)this.SelectLayer(i.ID)%2Cthis.layers%5Bthis.currentLayer%5D.putImageData(i.image%2C0%2C0)%3Belse%20if(%22merge%22%3D%3Di.action)%7Bthis.SelectLayer(i.ID)%3Blet%20t%3De.currentLayer%3Bif(this.layers%5Bt%5D.canvas.nextSibling)%7Bthis.SelectLayer(this.layers%5Bt%5D.canvas.nextSibling.id)%3Blet%20a%3De.currentLayer%3Bthis.layers%5Ba%5D.globalAlpha%3Dthis.layers%5Bt%5D.canvas.style.opacity%2Ce.layers%5Ba%5D.drawImage(e.layers%5Bt%5D.canvas%2C0%2C0)%2Cthis.layers%5Ba%5D.globalAlpha%3Dthis.layers%5Ba%5D.canvas.style.opacity%2Ce.layers%5Bt%5D.canvas.remove()%7D%7Delse%20if(%22down%22%3D%3Di.action)%7Bthis.SelectLayer(i.ID)%3Blet%20t%3De.currentLayer%3B%22bottom%22%3D%3Di.propriety.before%3Fthis.layersArea.appendChild(this.layers%5Bt%5D.canvas)%3A(this.SelectLayer(i.propriety.before)%2Cthis.layersArea.insertBefore(this.layers%5Bt%5D.canvas%2Cthis.layers%5Bthis.currentLayer%5D.canvas))%2Cthis.SelectLayer(i.ID)%7Delse%20if(%22up%22%3D%3Di.action)%7Bthis.SelectLayer(i.ID)%3Blet%20t%3De.currentLayer%3Bthis.SelectLayer(i.propriety.before)%2Cthis.layersArea.insertBefore(this.layers%5Bt%5D.canvas%2Cthis.layers%5Bthis.currentLayer%5D.canvas)%7Dthis.UpdateHTMLayerDisplay()%7D%2Cthis.Undo%3Dfunction(t%2Ca)%7Blet%20i%3Dthis.history.at(-a)%3Bif(%22change%20opacity%22%3D%3Di.action)%7Bfor(let%20e%3Dthis.history.length-1-a%3Be%3E%3D0%3Be--)if((%22change%20opacity%22%3D%3Dthis.history%5Be%5D.action%7C%7C%22new%20layer%22%3D%3Dthis.history%5Be%5D.action)%26%26this.history%5Be%5D.ID%3D%3Di.ID)%7Bi%3Dthis.history%5Be%5D%3Bbreak%7D%22paper%22%3D%3Di.ID%3F(this.paper.style.opacity%3Di.propriety.opacity%2Cthis.oekakiWidgetCapsula.querySelector(%22%23bgOpacity%22).value%3D100*i.propriety.opacity)%3A(this.SelectLayer(i.ID)%2Cthis.layers%5Bthis.currentLayer%5D.canvas.style.opacity%3Di.propriety.opacity%2Cthis.oekakiWidgetCapsula.querySelector(%22%23bgOpacity%22).value%3D100*i.propriety.opacity)%7Delse%20if(%22change%20paper%20color%22%3D%3Di.action)%7Bfor(let%20e%3Dthis.history.length-1-a%3Be%3E%3D0%3Be--)if((%22change%20paper%20color%22%3D%3Dthis.history%5Be%5D.action%7C%7C%22new%20layer%22%3D%3Dthis.history%5Be%5D.action)%26%26this.history%5Be%5D.ID%3D%3Di.ID)%7Bi%3Dthis.history%5Be%5D%3Bbreak%7Dthis.paperCTX.putImageData(i.image%2C0%2C0)%2Cthis.oekakiWidgetCapsula.querySelector(%22%23bgColor%22).value%3Di.propriety.color%7Delse%20if(%22new%20layer%22%3D%3Di.action)this.SelectLayer(i.ID)%2Cthis.layers%5Bthis.currentLayer%5D.canvas.remove()%2Cthis.SelectLayer(i.propriety.before)%3Belse%20if(%22deleted%20layer%22%3D%3Di.action)%7Bthis.SelectLayer(i.propriety.before)%3Bvar%20r%3Dthis.layers%5Bthis.currentLayer%5D.canvas%3Bif(this.SelectLayer(i.ID)%2C-1%3D%3Di.propriety.before)this.layersArea.appendChild(this.layers%5Bthis.currentLayer%5D.canvas)%3Belse%20try%7Bthis.layersArea.insertBefore(this.layers%5Bthis.currentLayer%5D.canvas%2Cr)%7Dcatch(e)%7Bthis.layersArea.appendChild(this.layers%5Bthis.currentLayer%5D.canvas)%7Dthis.UpdateHTMLayerDisplay()%2Cthis.SelectLayer(i.ID)%7Delse%20if(%22stroke%22%3D%3Di.action)%7Bfor(let%20e%3Dthis.history.length-1-a%3Be%3E%3D0%3Be--)if((%22stroke%22%3D%3Dthis.history%5Be%5D.action%7C%7C%22new%20layer%22%3D%3Dthis.history%5Be%5D.action%7C%7C%22merge%22%3D%3Dthis.history%5Be%5D.action)%26%26this.history%5Be%5D.ID%3D%3Di.ID)%7Bi%3Dthis.history%5Be%5D%3Bbreak%7Dthis.SelectLayer(i.ID)%2Cthis.layers%5Bthis.currentLayer%5D.putImageData(i.image%2C0%2C0)%7Delse%20if(%22merge%22%3D%3Di.action)%7Bvar%20s%3Di.ID%3Bthis.SelectLayer(i.ID)%3Br%3Dthis.currentLayer%3Bthis.SelectLayer(i.propriety.mergedInto)%2Cthis.layersArea.insertBefore(this.layers%5Br%5D.canvas%2Cthis.layers%5Bthis.currentLayer%5D.canvas)%2Cthis.UpdateHTMLayerDisplay()%3Bfor(let%20e%3Dthis.history.length-1-a%3Be%3E%3D0%3Be--)if((%22stroke%22%3D%3Dthis.history%5Be%5D.action%7C%7C%22new%20layer%22%3D%3Dthis.history%5Be%5D.action%7C%7C%22merge%22%3D%3Dthis.history%5Be%5D.action)%26%26this.history%5Be%5D.ID%3D%3Di.propriety.mergedInto)%7Bi%3Dthis.history%5Be%5D%3Bbreak%7Dthis.SelectLayer(i.ID)%2Cthis.layers%5Bthis.currentLayer%5D.putImageData(i.image%2C0%2C0)%2Cthis.SelectLayer(s)%7Delse%20if(%22down%22%3D%3Di.action)%7Bthis.SelectLayer(i.ID)%3Blet%20t%3De.currentLayer%3B%22bottom%22%3D%3Di.propriety.below%3Fthis.layersArea.insertBefore(this.layers%5Bt%5D.canvas%2Cthis.layersArea.lastChild)%3A(this.SelectLayer(i.propriety.below)%2Cthis.layersArea.insertBefore(this.layers%5Bt%5D.canvas%2Cthis.layers%5Bthis.currentLayer%5D.canvas.previousSibling.previousSibling))%2Cthis.SelectLayer(i.ID)%7Delse%20if(%22up%22%3D%3Di.action)%7Bthis.SelectLayer(i.ID)%3Blet%20t%3De.currentLayer%3Bthis.SelectLayer(i.propriety.below)%2Cthis.layersArea.insertBefore(this.layers%5Bt%5D.canvas%2Cthis.layers%5Bthis.currentLayer%5D.canvas.nextSibling)%2Cthis.SelectLayer(i.ID)%7Dthis.UpdateHTMLayerDisplay()%7D%2Cthis.UpdateHistory%3Dfunction(e%2Ct%2Ca%2Ci)%7Bthis.history.length%3Dthis.history.length-m%2Cm%3D0%3Btry%7B%22change%20opacity%22%3D%3Di%26%26%22change%20opacity%22%3D%3Dthis.history.at(-1).action%26%26this.history.pop()%7Dcatch(e)%7B%7Dthis.history.push(%7BID%3Ae%2Cimage%3At%2Cpropriety%3Aa%2Caction%3Ai%7D)%2C%22paper%22!%3De%26%26this.UpdateHTMLayerDisplay()%7D%2Cthis.SetPaperOpacity%3Dfunction(t)%7Bthis.paper.style.opacity%3Dt%2F100%2Ce.UpdateHistory(%22paper%22%2C%5B%5D%2C%7Bopacity%3Ae.paper.style.opacity%7D%2C%22change%20opacity%22)%7D%2Cthis.SetLayerOpacity%3Dfunction(t)%7Bthis.layers%5Bthis.currentLayer%5D.canvas.style.opacity%3Dt%2F100%2Ce.UpdateHistory(e.layers%5Be.currentLayer%5D.canvas.id%2C%5B%5D%2C%7Bopacity%3Ae.layers%5Be.currentLayer%5D.canvas.style.opacity%7D%2C%22change%20opacity%22)%7D%2Cthis.SelectLayer%3Dfunction(t)%7Bfor(let%20e%3D0%3Be%3Cthis.layers.length%3Be%2B%2B)if(t%3D%3Dthis.layers%5Be%5D.canvas.id)%7Bthis.currentLayer%3De%3Bbreak%7Dlet%20a%3Dthis.layersArea.querySelectorAll(%22canvas%22)%3Bfor(let%20e%3D0%3Be%3Ca.length%3Be%2B%2B)t%3D%3Da%5Be%5D.id%3Fa%5Be%5D.className%3D%22SelectedLayer%22%3Aa%5Be%5D.className%3D%22%22%3Blet%20i%3Dthis.layersDisplayTable.querySelectorAll(%22tr%22)%3Bfor(let%20e%3D0%3Be%3Ci.length%3Be%2B%2B)t%3D%3Di%5Be%5D.id%3Fi%5Be%5D.className%3D%22SelectedLayer%22%3Ai%5Be%5D.className%3D%22%22%3Btry%7Be.oekakiWidgetCapsula.querySelector(%22%23layerOpacity%22).value%3D100*parseFloat(e.layersArea.querySelector(%22.SelectedLayer%22).style.opacity)%7Dcatch(e)%7B%7D%7D%2Cthis.UpdateHTMLayerDisplay%3Dfunction()%7Bvar%20t%3Btry%7Bt%3Dthis.layersDisplayTable.querySelector(%22.SelectedLayer%22).id%7Dcatch(e)%7Bt%3D%22ID%3A0%22%7Dthis.layersDisplayTable.innerHTML%3D%22%22%3Bvar%20a%3Dthis.layersArea.querySelectorAll(%22canvas%22)%3Bfor(let%20t%3D0%3Bt%3Ca.length%3Bt%2B%2B)%7Ba%5Bt%5D.style.zIndex%3Da.length-t%3Blet%20i%3Ddocument.createElement(%22tr%22)%2Cr%3Ddocument.createElement(%22canvas%22)%3Br.style.backgroundColor%3D%22rgba(255%2C255%2C255%2C0.5)%22%3Blet%20s%3Dr.getContext(%222d%22)%3Br.width%3Da%5Bt%5D.width%2Cr.height%3Da%5Bt%5D.height%2Cs.drawImage(a%5Bt%5D%2C0%2C0)%2Ci.addEventListener(%22click%22%2Cfunction()%7Be.SelectLayer(a%5Bt%5D.id)%7D)%2Ci.id%3Da%5Bt%5D.id%2Ci.innerHTML%3D%22%3Ctd%20class%3D%27preview%27%3E%3C%2Ftd%3E%3Ctd%3E%3Cbutton%20class%3D%27toggleHide%27%3EHide%3C%2Fbutton%3E%3C%2Ftd%3E%22%2Ci.querySelector(%22.preview%22).appendChild(r)%2Cthis.layersDisplayTable.appendChild(i)%2Ca%5Bt%5D.disabled%3F(i.querySelector(%22.toggleHide%22).innerHTML%3D%22Show%22%2Ci.querySelector(%22.toggleHide%22).style.opacity%3D%220.1%22%2Ci.querySelector(%22.preview%22).style.opacity%3D%220.1%22)%3A(i.querySelector(%22.toggleHide%22).innerHTML%3D%22Hide%22%2Ci.querySelector(%22.toggleHide%22).style.opacity%3D%221%22%2Ci.querySelector(%22.preview%22).style.opacity%3D%221%22)%2Ci.querySelector(%22.toggleHide%22).addEventListener(%22click%22%2Cfunction(e)%7Bif(e.stopPropagation()%2C%22hidden%22%3D%3Da%5Bt%5D.style.visibility)return%20a%5Bt%5D.style.visibility%3D%22visible%22%2Cthis.innerHTML%3D%22Hide%22%2Ca%5Bt%5D.disabled%3D!1%2Ci.querySelector(%22.toggleHide%22).style.opacity%3D%221%22%2Cvoid(i.querySelector(%22.preview%22).style.opacity%3D%221%22)%3Ba%5Bt%5D.style.visibility%3D%22hidden%22%2Cthis.innerHTML%3D%22Show%22%2Ca%5Bt%5D.disabled%3D!0%2Ci.querySelector(%22.toggleHide%22).style.opacity%3D%220.1%22%2Ci.querySelector(%22.preview%22).style.opacity%3D%220.1%22%7D)%7Dthis.SelectLayer(t)%7D%2Cthis.NewLayer%3Dfunction(t%3D-1)%7Bvar%20a%3Ddocument.createElement(%22canvas%22)%3Bif(a.width%3Dthis.canvasWidth%2Ca.height%3Dthis.canvasHeight%2Ca.style.position%3D%22absolute%22%2Ca.id%3D%22ID%3A%22%2Bthis.layerUniqueID%2Ca.style.opacity%3D%221%22%2C-1%3D%3Dt)this.layersArea.appendChild(a)%3Belse%20try%7Bthis.layersArea.insertBefore(a%2Cthis.layers%5Bt%5D.canvas)%7Dcatch(e)%7Bthis.layersArea.appendChild(a)%7Dthis.layers.push(a.getContext(%222d%22))%2Cthis.layerUniqueID%2B%2B%3Blet%20i%3Da.getContext(%222d%22)%3B-1%3D%3Dt%3Fthis.UpdateHistory(a.id%2Ci.getImageData(0%2C0%2Cthis.canvasWidth%2Cthis.canvasHeight)%2C%7Bopacity%3A%221%22%2Cbefore%3A-1%7D%2C%22new%20layer%22)%3Athis.UpdateHistory(a.id%2Ci.getImageData(0%2C0%2Cthis.canvasWidth%2Cthis.canvasHeight)%2C%7Bopacity%3A%221%22%2Cbefore%3Ae.layers%5Bt%5D.canvas.id%7D%2C%22new%20layer%22)%2Cthis.SelectLayer(a.id)%2Cthis.UpdateHTMLayerDisplay()%7D%2Cthis.DeleteCurrentLayer%3Dfunction()%7Blet%20t%3De.currentLayer%3Bthis.layers%5Bt%5D.canvas.nextSibling%3F(this.SelectLayer(this.layers%5Bt%5D.canvas.nextSibling.id)%2Ce.UpdateHistory(e.layers%5Bt%5D.canvas.id%2C%5B%5D%2C%7Bbefore%3Ae.layers%5Bt%5D.canvas.nextSibling.id%7D%2C%22deleted%20layer%22)%2Ce.layers%5Bt%5D.canvas.remove())%3Athis.layersArea.lastChild%3F(e.UpdateHistory(e.layers%5Bt%5D.canvas.id%2C%5B%5D%2C%7Bbefore%3Ae.layersArea.lastChild.id%7D%2C%22deleted%20layer%22)%2Ce.layers%5Bt%5D.canvas.remove()%2Cthis.layersArea.lastChild%26%26this.SelectLayer(this.layersArea.lastChild.id))%3Aconsole.log(%22nothing%20to%20delete%22)%2Cthis.UpdateHTMLayerDisplay()%7D%2Cthis.MergeBelowLayer%3Dfunction()%7Blet%20t%3De.currentLayer%3Bif(this.layers%5Bt%5D.canvas.nextSibling)%7Bif(this.layers%5Bt%5D.canvas.nextSibling.disabled)return%20void%20console.log(%22cant%20merge%20with%20invisible%20layer%22)%3Bthis.SelectLayer(this.layers%5Bt%5D.canvas.nextSibling.id)%3Blet%20a%3De.currentLayer%3Bthis.layers%5Ba%5D.globalAlpha%3Dthis.layers%5Bt%5D.canvas.style.opacity%2Ce.layers%5Ba%5D.drawImage(e.layers%5Bt%5D.canvas%2C0%2C0)%2Cthis.layers%5Ba%5D.globalAlpha%3Dthis.layers%5Ba%5D.canvas.style.opacity%2Ce.UpdateHistory(e.layers%5Bt%5D.canvas.id%2Ce.layers%5Ba%5D.getImageData(0%2C0%2Cthis.canvasWidth%2Cthis.canvasHeight)%2C%7BmergedInto%3Ae.layers%5Ba%5D.canvas.id%7D%2C%22merge%22)%2Ce.layers%5Bt%5D.canvas.remove()%7Delse%20console.log(%22nothing%20to%20merge%22)%3Bthis.UpdateHTMLayerDisplay()%7D%2Cthis.LayerUp%3Dfunction()%7Blet%20t%3De.currentLayer%3Bif(this.layers%5Bt%5D.canvas.previousSibling)%7Bvar%20a%3Dthis.layers%5Bt%5D.canvas.previousSibling.id%3Bthis.layersArea.insertBefore(this.layers%5Bt%5D.canvas%2Cthis.layers%5Bt%5D.canvas.previousSibling)%2Ce.UpdateHistory(e.layers%5Bt%5D.canvas.id%2C%5B%5D%2C%7Bbelow%3Aa%7D%2C%22up%22)%7Delse%20console.log(%22cant%20go%20up%22)%3Bthis.UpdateHTMLayerDisplay()%7D%2Cthis.LayerDown%3Dfunction()%7Blet%20t%3De.currentLayer%3Bif(this.layers%5Bt%5D.canvas.nextSibling)if(this.layers%5Bt%5D.canvas.nextSibling.nextSibling)%7Bvar%20a%3Dthis.layers%5Bt%5D.canvas.nextSibling.nextSibling.id%3Bthis.layersArea.insertBefore(this.layers%5Bt%5D.canvas%2Cthis.layers%5Bt%5D.canvas.nextSibling.nextSibling)%2Ce.UpdateHistory(e.layers%5Bt%5D.canvas.id%2C%5B%5D%2C%7Bbelow%3Aa%7D%2C%22down%22)%7Delse%20this.layersArea.appendChild(this.layers%5Bt%5D.canvas)%2Ce.UpdateHistory(e.layers%5Bt%5D.canvas.id%2C%5B%5D%2C%7Bbelow%3A%22bottom%22%7D%2C%22down%22)%3Belse%20console.log(%22cant%20go%20down%22)%3Bthis.UpdateHTMLayerDisplay()%7D%3Bvar%20t%3Ddocument.createElement(%22canvas%22)%2Ca%3Dt.getContext(%222d%22)%2Ci%3Ddocument.createElement(%22canvas%22)%2Cr%3Di.getContext(%222d%22)%2Cs%3Dfunction(e%2Ct%2Ca)%7Breturn%204*((t-1)*a%2Be-1)%7D%2Cl%3Dfunction(e%2Ct%2Ca)%7Be%5Bt%5D%3Da.r%7C%7C0%2Ce%5Bt%2B1%5D%3Da.g%7C%7C0%2Ce%5Bt%2B2%5D%3Da.b%7C%7C0%2Ce%5Bt%2B3%5D%3Da.a%7C%7C0%7D%3Bthis.isDown%3D!1%3Bvar%20n%3Ddocument.createElement(%22canvas%22)%2Co%3Dn.getContext(%222d%22)%2Cu%3D0%2Ch%3D0%2Cc%3D.05*e.brushSize%2Cd%3D0%2Cp%3D%7Bx%3A%22toset%22%2Cy%3A%22toset%22%7D%2Cy%3Dfunction()%7Breturn%20d%2B%2B%25Math.ceil(c)%3D%3D0%7D%3Bfunction%20g(e%2Ct%2Ca%2Ci)%7Be%3DMath.round(e)%2Ct%3DMath.round(t)%2Ca%3DMath.round(a)%2Ci%3DMath.round(i)%3Bfor(var%20r%3DMath.abs(a-e)%2Cs%3DMath.abs(i-t)%2Cl%3De%3Ca%3F1%3A-1%2Cn%3Dt%3Ci%3F1%3A-1%2Co%3Dr-s%2Cu%3D%5B%5D%3Bu.push(%7Bx%3Ae%2Cy%3At%7D)%2Ce!%3D%3Da%7C%7Ct!%3D%3Di%3B)%7Bvar%20h%3D2*o%3Bif(h%3E-s%26%26(o-%3Ds%2Ce%2B%3Dl)%2Ch%3Cr%26%26(o%2B%3Dr%2Ct%2B%3Dn)%2Cu.length%3E1e3)return%5B%5D%7Dreturn%201%3D%3Du.length%26%26u.push(u%5B0%5D)%2Cu%7Dfunction%20k(t)%7Bd%3D0%2Ch%3Df(t)%2Cu.x%3D%3Dh.x%26%26u.y%3D%3Dh.y%7C%7C(e.DrawLine(u.x%2Cu.y%2Ch.x%2Ch.y)%2Cu%3Dh%2Ce.draftCTX.clearRect(0%2C0%2Ce.canvasWidth%2Ce.canvasHeight)%2Co.clearRect(0%2C0%2Ce.canvasWidth%2Ce.canvasHeight))%7Dfunction%20f(t)%7Bvar%20a%3De.draft.getBoundingClientRect()%3Breturn%20e.reversed%3F%7Bx%3AMath.round(a.width-(t.clientX-a.left))%2Cy%3AMath.round(t.clientY-a.top)%7D%3A%7Bx%3AMath.round(t.clientX-a.left)%2Cy%3AMath.round(t.clientY-a.top)%7D%7Dthis.DrawLine%3Dfunction(o%2Cu%2Ch%2Cc)%7Blet%20k%3Dg(o%2Cu%2Ch%2Cc)%3Bswitch(e.tool)%7Bcase%22brush%22%3A!function(t)%7Bvar%20a%3DparseInt(e.brushSize)%2B1%3Blet%20i%3D%22rgb(%22%2Be.brushColor.r%2B%22%2C%22%2Be.brushColor.g%2B%22%2C%22%2Be.brushColor.b%2B%22)%22%3Be.draftCTX.fillStyle%3Di%3Bfor(let%20i%3D0%3Bi%3Ct.length-1%3Bi%2B%2B)y()%26%26(e.draftCTX.beginPath()%2Ce.draftCTX.arc(Math.floor(t%5Bi%5D.x)%2CMath.floor(t%5Bi%5D.y)%2Ca%2F2%2C0%2C2*Math.PI)%2Ce.draftCTX.fill())%3Be.layers%5Be.currentLayer%5D.clearRect(0%2C0%2Ce.canvasWidth%2Ce.canvasHeight)%2Ce.layers%5Be.currentLayer%5D.globalAlpha%3D1%2Ce.layers%5Be.currentLayer%5D.globalCompositeOperation%3D%22source-over%22%2Ce.layers%5Be.currentLayer%5D.drawImage(n%2C0%2C0)%2Ce.layers%5Be.currentLayer%5D.globalAlpha%3De.brushOpacity%2F100%2Ce.layers%5Be.currentLayer%5D.globalCompositeOperation%3De.brushMode%2Ce.layers%5Be.currentLayer%5D.drawImage(e.draft%2C0%2C0)%7D(k)%3Bbreak%3Bcase%22pixel%22%3A!function(o)%7Be.draftCTX.globalAlpha%3D1%3Bvar%20u%3DparseInt(e.brushSize)%2B1%2Ch%3Dnew%20Uint8ClampedArray(u*u*4).fill(0)%3B(C%3De.brushColor).a%3D255%3Bfor(let%20e%3D0%3Be%3Cu%3Be%2B%2B)for(let%20t%3D0%3Bt%3Cu%3Bt%2B%2B)(e-u%2F2)*(e-u%2F2)%2B(t-u%2F2)*(t-u%2F2)%3C(u-1)%2F2*((u-1)%2F2)%26%26l(h%2Cs(e%2Ct%2Cu)%2CC)%3Bvar%20c%3Dnew%20ImageData(h%2Cu%2Cu)%3Bt.width%3Du%2Ct.height%3Du%2Ca.putImageData(c%2C0%2C0)%3Bvar%20d%3DparseInt(e.canvasWidth)%2B1%2Cp%3DparseInt(e.canvasHeight)%2B1%2Cy%3D4%2Cg%3D%5B%5B0%2C8%2C2%2C10%5D%2C%5B12%2C4%2C14%2C6%5D%2C%5B3%2C11%2C1%2C9%5D%2C%5B15%2C7%2C13%2C5%5D%5D%2Ck%3DMath.round(e.brushDensity%2F100*16)%3Bk%3D0%3D%3Dk%3F1%3Ak%2Ce.patternMakerDithering%26%26(e.brushDensity%2F100*16%3C%3D1.44%26%26e.brushDensity%2F100*16%3E%3D.64%26%26(y%3D3%2Cg%3D%5B%5B0%2C255%2C255%5D%2C%5B255%2C255%2C255%5D%2C%5B255%2C255%2C255%5D%5D)%2Ce.brushDensity%2F100*16%3C%3D7.52%26%26e.brushDensity%2F100*16%3E%3D7.04%26%26(y%3D2%2Cg%3D%5B%5B255%2C0%2C255%2C0%5D%2C%5B255%2C0%2C255%2C0%5D%2C%5B255%2C0%2C255%2C0%5D%2C%5B255%2C0%2C255%2C0%5D%5D)%2Ce.brushDensity%2F100*16%3C%3D8.96%26%26e.brushDensity%2F100*16%3E%3D8.48%26%26(y%3D2%2Cg%3D%5B%5B255%2C255%2C255%2C255%5D%2C%5B0%2C0%2C0%2C0%5D%2C%5B255%2C255%2C255%2C255%5D%2C%5B0%2C0%2C0%2C0%5D%5D))%3Bvar%20f%3Dnew%20Uint8ClampedArray(d*p*4).fill(255)%2CC%3D%7Br%3A0%2Cg%3A0%2Cb%3A0%2Ca%3A0%7D%3Bfor(let%20e%3D0%3Be%3Cp%3Be%2B%2B)for(let%20t%3D0%3Bt%3Cd%3Bt%2B%2B)k%3Eg%5Be%25y%5D%5Bt%25y%5D%26%26l(f%2Cs(t%2Ce%2Cd)%2CC)%3Bvar%20v%3Dnew%20ImageData(f%2Cd%2Cp)%3Bi.width%3Dd%2Ci.height%3Dp%2Cr.putImageData(v%2C0%2C0)%3Bfor(let%20a%3D0%3Ba%3Co.length-1%3Ba%2B%2B)e.draftCTX.drawImage(t%2CMath.floor(o%5Ba%5D.x-u%2F2)%2CMath.floor(o%5Ba%5D.y-u%2F2))%3Be.draftCTX.globalCompositeOperation%3D%22destination-out%22%2Ce.draftCTX.drawImage(i%2C0%2C0)%2Ce.draftCTX.globalCompositeOperation%3D%22source-over%22%2Ce.layers%5Be.currentLayer%5D.clearRect(0%2C0%2Ce.canvasWidth%2Ce.canvasHeight)%2Ce.layers%5Be.currentLayer%5D.globalAlpha%3D1%2Ce.layers%5Be.currentLayer%5D.globalCompositeOperation%3D%22source-over%22%2Ce.layers%5Be.currentLayer%5D.drawImage(n%2C0%2C0)%2Ce.layers%5Be.currentLayer%5D.globalAlpha%3De.brushOpacity%2F100%2Ce.layers%5Be.currentLayer%5D.globalCompositeOperation%3De.brushMode%2Ce.layers%5Be.currentLayer%5D.drawImage(e.draft%2C0%2C0)%2Ce.draftCTX.globalAlpha%3De.brushDensity%2F100%7D(k)%3Bbreak%3Bcase%22airbrush%22%3A!function(i)%7Bvar%20r%3DparseInt(e.brushSize)%2B1%3Blet%20o%3Dnew%20Uint8ClampedArray(r*r*4).fill(0)%2Cu%3DMath.ceil(255%2F(r%2F2))%2Ch%3De.brushColor%3Bh.a%3Du%3Bfor(let%20e%3D(r-1)%2F2%3Be%3E-1%3Be-%3D2)%7Bfor(let%20t%3D0%3Bt%3Cr%3Bt%2B%2B)for(let%20a%3D0%3Ba%3Cr%3Ba%2B%2B)(t-r%2F2)*(t-r%2F2)%2B(a-r%2F2)*(a-r%2F2)%3Ce*e%26%26l(o%2Cs(t%2Ca%2Cr)%2Ch)%3Bh.a%2B%3Du%7Dlet%20c%3Dnew%20ImageData(o%2Cr%2Cr)%3Bt.width%3Dr%2Ct.height%3Dr%2Ca.putImageData(c%2C0%2C0)%3Bfor(let%20a%3D0%3Ba%3Ci.length-1%3Ba%2B%2B)y()%26%26e.draftCTX.drawImage(t%2CMath.floor(i%5Ba%5D.x-r%2F2)%2CMath.floor(i%5Ba%5D.y-r%2F2))%3Be.layers%5Be.currentLayer%5D.clearRect(0%2C0%2Ce.canvasWidth%2Ce.canvasHeight)%2Ce.layers%5Be.currentLayer%5D.globalAlpha%3D1%2Ce.layers%5Be.currentLayer%5D.globalCompositeOperation%3D%22source-over%22%2Ce.layers%5Be.currentLayer%5D.drawImage(n%2C0%2C0)%2Ce.layers%5Be.currentLayer%5D.globalAlpha%3De.brushOpacity%2F100%2Ce.layers%5Be.currentLayer%5D.globalCompositeOperation%3De.brushMode%2Ce.layers%5Be.currentLayer%5D.drawImage(e.draft%2C0%2C0)%7D(k)%3Bbreak%3Bcase%22bucket%22%3Acase%22colorpicker%22%3Acase%22lasso%22%3Aconsole.log(%22todo%22)%3Bbreak%3Bcase%22line%22%3A!function(t%2Ca%2Ci%2Cr)%7Blet%20s%3Dg(t%2Ca%2Ci%2Cr)%3Bvar%20l%3DparseInt(e.brushSize)%2B1%3Be.brushColor.r%2Ce.brushColor.g%2Ce.brushColor.b%2Ce.draftCTX.clearRect(0%2C0%2Ce.canvasWidth%2Ce.canvasHeight)%2Cd%3D0%3Bfor(let%20t%3D0%3Bt%3Cs.length-1%3Bt%2B%2B)y()%26%26(e.draftCTX.beginPath()%2Ce.draftCTX.arc(s%5Bt%5D.x%2Cs%5Bt%5D.y%2Cl%2F2%2C0%2C2*Math.PI)%2Ce.draftCTX.fill())%3Be.layers%5Be.currentLayer%5D.clearRect(0%2C0%2Ce.canvasWidth%2Ce.canvasHeight)%2Ce.layers%5Be.currentLayer%5D.globalAlpha%3D1%2Ce.layers%5Be.currentLayer%5D.globalCompositeOperation%3D%22source-over%22%2Ce.layers%5Be.currentLayer%5D.drawImage(n%2C0%2C0)%2Ce.layers%5Be.currentLayer%5D.globalAlpha%3De.brushOpacity%2F100%2Ce.layers%5Be.currentLayer%5D.globalCompositeOperation%3De.brushMode%2Ce.layers%5Be.currentLayer%5D.drawImage(e.draft%2C0%2C0)%7D(p.x%2Cp.y%2Ch%2Cc)%7D%7D%2Cthis.draft.onmousemove%3Dfunction(t)%7Be.panning%7C%7C(c%3D.05*e.brushSize%2Ce.isDown%26%26(h%3Df(t)%2Ce.DrawLine(u.x%2Cu.y%2Ch.x%2Ch.y)%2Cu%3Dh))%7D%2Cthis.draft.onmousedown%3Dfunction(t)%7Be.layers%5Be.currentLayer%5D.canvas.disabled%7C%7Ce.panning%7C%7C(e.isDown%3D!0%2Ce.draftCTX.clearRect(0%2C0%2Ce.canvasWidth%2Ce.canvasHeight)%2Cn.width%3De.canvasWidth%2Cn.height%3De.canvasHeight%2Co.drawImage(e.layers%5Be.currentLayer%5D.canvas%2C0%2C0)%2Cu%3Df(t)%2Ch%3Df(t)%2Cp%3Dh%2Ce.DrawLine(u.x%2Cu.y%2Ch.x%2Ch.y)%2Cu%3Dh)%7D%2Cthis.draft.onmouseup%3Dfunction(t)%7Be.isDown%26%26(e.UpdateHistory(e.layers%5Be.currentLayer%5D.canvas.id%2Ce.layers%5Be.currentLayer%5D.getImageData(0%2C0%2Ce.canvasWidth%2Ce.canvasHeight)%2C%5B%5D%2C%22stroke%22)%2Ce.isDown%3D!1%2Ck(t))%7D%2Cthis.draft.onmouseleave%3Dfunction(t)%7Be.isDown%26%26(e.UpdateHistory(e.layers%5Be.currentLayer%5D.canvas.id%2Ce.layers%5Be.currentLayer%5D.getImageData(0%2C0%2Ce.canvasWidth%2Ce.canvasHeight)%2C%5B%5D%2C%22stroke%22)%2Ce.isDown%3D!1%2Ck(t))%7D%3Bdocument.createElement(%22canvas%22).getContext(%222d%22)%3Bvar%20C%3D%7Bx%3A%22toset%22%2Cy%3A%22toset%22%7D%3Bfunction%20v(t)%7Bvar%20a%3De.cursor.getBoundingClientRect()%3Be.cursorCTX.globalCompositeOperation%3D%22source-over%22%3Bvar%20i%3De.FlattenCanvas().canvas%3Be.cursorCTX.drawImage(i%2C0%2C0)%2Ce.cursorCTX.globalCompositeOperation%3D%22difference%22%2Ce.cursorCTX.fillStyle%3D%22white%22%2Ce.cursorCTX.fillRect(0%2C0%2Ce.canvasWidth%2Ce.canvasHeight)%2Ce.cursorCTX.globalCompositeOperation%3D%22destination-atop%22%2Ce.cursorCTX.beginPath()%2Ce.cursorCTX.lineWidth%3D1%2Ct%3F(C%3D%7Bx%3At.clientX%2Cy%3At.clientY%7D%2Ce.cursorCTX.arc(Math.floor(t.clientX-a.left)%2CMath.floor(t.clientY-a.top)%2Ce.brushSize%2F2%2C0%2C2*Math.PI))%3Ae.cursorCTX.arc(Math.floor(C.x-a.left)%2CMath.floor(C.y-a.top)%2Ce.brushSize%2F2%2C0%2C2*Math.PI)%2Ce.cursorCTX.stroke()%7Dfunction%20b()%7Bfor(let%20t%3D0%3Bt%3Ce.brushSizePresets.length-1%3Bt%2B%2B)if(e.brushSizePresets%5Bt%5D%3E%3DparseInt(e.brushSize))return%20t%3Breturn%20e.brushSizePresets.length-2%7Dfunction%20L(e)%7Blet%20t%3Ddocument.querySelectorAll(%22.OekakiWidgetCapsula%22)%3Bfor(let%20e%3D0%3Be%3Ct.length%3Be%2B%2B)t%5Be%5D.containerOf.focused%3D!1%3Btry%7Be.target.closest(%22.OekakiWidgetCapsula%22).containerOf.focused%3D!0%7Dcatch(e)%7B%7D%7Dfunction%20S(t)%7Bswitch(t.keyCode)%7Bcase%2032%3Ae.panning%3D!0%2Ce.oekakiWidgetCapsula.style.cursor%3D%22grab%22%7D%7Dfunction%20W(t)%7Bswitch(t.keyCode)%7Bcase%2032%3Ae.panning%3D!1%2Ce.oekakiWidgetCapsula.style.cursor%3D%22%22%7D%7Dthis.draft.addEventListener(%22mousemove%22%2Cv)%2Cthis.draft.addEventListener(%22mousedown%22%2Cv)%2Cthis.draft.addEventListener(%22mouseleave%22%2Cfunction()%7Be.cursorCTX.clearRect(0%2C0%2Ce.canvasWidth%2Ce.canvasHeight)%7D)%2Cthis.HtmlSnippetTool%3Dfunction(t)%7Bvar%20a%3Ddocument.createElement(%22canvas%22)%3Ba.setAttribute(%22data-html2canvas-ignore%22%2C!0)%3Bvar%20i%3Da.getContext(%222d%22)%3Ba.width%3Dwindow.innerWidth%2Ca.height%3Dwindow.innerHeight%2Ca.style%3D%22position%3A%20fixed%3B%20top%3A0%25%3B%20left%3A0%25%3B%20cursor%3Acrosshair%3B%20z-index%3A10002%22%2Ci.fillStyle%3D%22rgba(0%2C0%2C0%2C0.2)%22%2Ci.fillRect(0%2C0%2Cwindow.innerWidth%2Cwindow.innerHeight)%2Cdocument.querySelector(%22body%22).prepend(a)%3Bvar%20r%3D%7Bw%3A0%2Ch%3A0%7D%2Cs%3D%7Bx%3A%22toset%22%2Cy%3A%22toset%22%7D%2Cl%3D%7Bx%3A0%2Cy%3A0%7D%3Ba.addEventListener(%22mousemove%22%2Cfunction(e)%7Bi.clearRect(0%2C0%2Cwindow.innerWidth%2Cwindow.innerHeight)%2Ci.fillStyle%3D%22rgba(0%2C0%2C0%2C0.2)%22%2Ci.fillRect(0%2C0%2Cwindow.innerWidth%2Cwindow.innerHeight)%2C%22toset%22!%3Ds.x%26%26%22toset%22!%3Ds.y%26%26(i.fillStyle%3D%22red%22%2Cr%3D%7Bw%3Ae.clientX-s.x%2Ch%3Ae.clientY-s.y%7D%2Ci.fillRect(s.x-2%2Cs.y-2%2Cr.w%2B4%2Cr.h%2B4)%2Ci.fillRect(s.x%2B2%2Cs.y%2B2%2Cr.w-4%2Cr.h-4)%2Ci.fillRect(s.x%2B2%2Cs.y-2%2Cr.w-4%2Cr.h%2B4)%2Ci.fillRect(s.x-2%2Cs.y%2B2%2Cr.w%2B4%2Cr.h-4)%2Ci.clearRect(s.x%2Cs.y%2Cr.w%2Cr.h))%7D)%2Ca.addEventListener(%22mousedown%22%2Cfunction(e)%7Bs%3D%7Bx%3Ae.clientX%2Cy%3Ae.clientY%7D%7D)%2Ca.addEventListener(%22mouseup%22%2Casync%20function(n)%7Bif(l%3D%7Bx%3An.clientX%2Cy%3An.clientY%7D%2C(r%3D%7Bw%3Al.x-s.x%2Ch%3Al.y-s.y%7D).w%3C0%26%26r.h%3C0%26%26(s%3D%7Bx%3Al.x%2Cy%3Al.y%7D)%2Cr.w%3E0%26%26r.h%3C0%26%26(s%3D%7Bx%3As.x%2Cy%3Al.y%7D)%2Cr.w%3C0%26%26r.h%3E0%26%26(s%3D%7Bx%3Al.x%2Cy%3As.y%7D)%2Cr.w%3E0%26%26r.h%3E0%26%26(s%3D%7Bx%3As.x%2Cy%3As.y%7D)%2C(r%3D%7Bw%3AMath.abs(r.w)%2Ch%3AMath.abs(r.h)%7D).w%3C10%7C%7Cr.h%3C10)return%20s%3D%7Bx%3A%22toset%22%2Cy%3A%22toset%22%7D%2Cr%3D%7Bw%3A0%2Ch%3A0%7D%2Ci.clearRect(0%2C0%2Cwindow.innerWidth%2Cwindow.innerHeight)%2Ci.fillStyle%3D%22rgba(0%2C0%2C0%2C0.2)%22%2Cvoid%20i.fillRect(0%2C0%2Cwindow.innerWidth%2Cwindow.innerHeight)%3Be.Setup(r.w%2Cr.h%2Cs.x%2Bwindow.scrollX%2Cs.y%2Bwindow.scrollY%2Ct)%2Ca.remove()%7D)%7D%3Bvar%20m%3D0%3Bfunction%20w(t)%7Bif(e.focused)switch(t.keyCode)%7Bcase%20101%3Ae.oekakiWidgetCapsula.querySelector(%22%23Eraser%22).click()%3Bbreak%3Bcase%2098%3Ae.oekakiWidgetCapsula.querySelector(%22%23Normal%22).click()%3Bbreak%3Bcase%20119%3Ae.oekakiWidgetCapsula.querySelector(%22%23toggleTools%22).click()%3Bbreak%3Bcase%2097%3Aif(1%3D%3De.brushSize)break%3Be.SetBrushSize(e.brushSizePresets%5Bb()-1%5D)%2Cv()%3Bbreak%3Bcase%20100%3Ae.SetBrushSize(e.brushSizePresets%5Bb()%2B1%5D)%2Cv()%3Bbreak%3Bcase%20115%3Acase%20120%3Ae.oekakiWidgetCapsula.querySelector(%22%23Normal%22).checked%3Fe.oekakiWidgetCapsula.querySelector(%22%23Eraser%22).click()%3Ae.oekakiWidgetCapsula.querySelector(%22%23Normal%22).click()%3Bbreak%3Bcase%20114%3Ae.ReverseView()%3Bbreak%3Bcase%20113%3Ae.oekakiWidgetCapsula.querySelector(%22%23Lasso%22).click()%3Bbreak%3Bcase%20122%3Aif(e.history.length-m%3C%3D2)break%3Be.Undo(%22undo%22%2C%2B%2Bm)%3Bbreak%3Bcase%20121%3Aif(0%3D%3Dm)break%3Be.Redo(%22redo%22%2Cm--)%7D%7D%7Dvar%20Oekaki%3Dnew%20OekakiWidget%3BOekaki.HtmlSnippetTool()%3B
})()">
<span>[OekakiWidgetJS.js]</span>

</a>
</div></div>
<!------------------------------------------------------------------------------------------------->
<script src="script.js"></script>

</body>
</html>